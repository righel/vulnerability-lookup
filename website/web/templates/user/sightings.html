{% extends "main.html" %}
{% block title %}Your sightings{% endblock %}
{% block content %}
<h1>Your sightings</h1>
<div class="table-responsive-md">
  <table id="table-sightings" class="table table-hover">
  <thead>
    <tr>
      <th>Source</th>
      <th>Vulnerability</th>
      <th>Type</th>
      <th>Date</th>
      <th>Delete</th>
    </tr>
  </thead>
  <tbody>
  {% for sighting in sightings %}
      <tr>
        {% if sighting.source | is_url %}
        <td><a href="{{ sighting.source }}" rel="noreferrer" target="_blank">{{ sighting.source  }}</a></td>
        {% else %}
        <td>{{ sighting.source  }}</td>
        {% endif %}
        <td><a href="{{ url_for('home_bp.vulnerability_view', vulnerability_id=sighting.vulnerability) }}">{{ sighting.vulnerability.upper() }}</a></td>
        <td>{{ sighting.type }}</td>
        <td>{{ sighting.creation_timestamp | datetimeformat('%Y-%m-%d %H:%M:%S %z') }}</td>
        <td><a href="{{ url_for('user_bp.delete_sighting', sighting_uuid=sighting.uuid) }}", onclick="return confirm('You are going to delete this sighting.');">{{ render_icon('trash', color='red') }}</a></td>
    </tr>
  {% endfor %}
  </tbody>
  </table>
</div>
<div class="row">
  <div class="col">
      {{ pagination.links }}
  </div>
</div>
<div class="row">
  <div class="col">
      {{ pagination.info }}
  </div>
</div>
{% endblock %}
