{% extends "main.html" %}
{% block head %}
{{ super() }}
<script src="{{ url_for('static', filename='js/pretty-print-json.min.js') }}"></script>
<link rel="stylesheet" href="{{ url_for('static', filename='css/pretty-print-json.css') }}" />
{% endblock %}
{% block title %}About Vulnerability-Lookup{% endblock %}
{% block content %}
<br />
<h2>Information about this instance</h2>
<ul class="list-group">
    <li class="list-group-item">Vulnerability-Lookup version: <em><a href="{{ version_url }}" rel="noreferrer" target="_blank">{{software_version}}</a></em></li>
    <li class="list-group-item">Python version: <em>{{ python_version }}</em></li>
    <li class="list-group-item">Registration: <em>{{ registration }}</em></li>
    <li class="list-group-item">Comments moderation: <em>{{ moderation }}</em></li>
    <li class="list-group-item">Instance UUID: <em>{{ local_instance_uuid }}</em></li>
    <li class="list-group-item">Operator: <em><a href="{{ config.ADMIN_WEBSITE }}" rel="noreferrer" target="_blank">{{ config.ADMIN_NAME }}</a></em></li>
    <li class="list-group-item">Contact: <em><a href="mailto:{{ config.ADMIN_EMAIL }}">{{ config.ADMIN_EMAIL }}</a></em></li>
</ul>
<br />
<h2>Storage</h2>
<button class="btn btn-primary" type="button" data-bs-toggle="collapse" data-bs-target="#collapseStorage" aria-expanded="false" aria-controls="collapseStorage">Show JSON</button>
<div class="collapse" id="collapseStorage">
    <br />
    <div class="card card-body">
        <pre id="json-container">{{storage_info|tojson(indent=2)}}</pre>
    </div>
    <br />
</div>
<script>
    document.addEventListener("DOMContentLoaded", function() {
        var jsonContainer = document.getElementById("json-container");
        jsonContainer.innerHTML = prettyPrintJson.toHtml(JSON.parse(jsonContainer.innerText));
    });
</script>
{% endblock %}
